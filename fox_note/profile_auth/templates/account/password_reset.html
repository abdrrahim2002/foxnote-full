{% load static %}
{% load i18n allauth account %}



<link rel="stylesheet" href="{% static "/account/css/password_reset.css" %}">

<div class="reveal-background"></div>


<!-- for the title -->
<header>
	<h1>FOXNOTE</h1>
</header>



<!-- for the message popup -->
<div class="popup-message-container">
	<div id="popup-message1" class="popup-message">
		<span class="message">message 1</span>
		<button onclick="closePopup('popup-message1')">&times;</button>
	</div>
	<br><br>
	<div id="popup-message" class="popup-message">
		<span class="message">message 2</span>
		<button onclick="closePopup('popup-message')">&times;</button>
	</div>

	<div id="popup-message" class="popup-message">
		<span class="message">message 3</span>
		<button onclick="closePopup('popup-message')">&times;</button>
	</div>

	{% if messages %}
			
		{% for message in messages %}

			<div id="popup-{{ forloop.counter }}" class="popup-message">
				<span class="message">{{ message }}</span>
				<button onclick="closePopup('popup-{{ forloop.counter }}')">&times;</button>
			</div>

		{% endfor %}
		
	{% endif %}


</div>




<!-- for the success message -->
<div class="success-message-container">
    <div class="success-message">
        {% block content %}
            {% element h1 %}
                {% trans "Password Reset" %}
            {% endelement %}
            {% if user.is_authenticated %}
                {% include "account/snippets/already_logged_in.html" %}
            {% endif %}
            {% element p %}
                {% trans "Forgotten your password? Enter your email address below, and we'll send you an email allowing you to reset it." %}
            {% endelement %}
            {% url 'account_reset_password' as reset_url %}
            {% element form form=form method="post" action=reset_url %}
                {% slot body %}
                    {% csrf_token %}
                    {% element fields form=form %}
                    {% endelement %}
                {% endslot %}
                {% slot actions %}
                    <button type="submit" class="pushable">
                        <span class="shadow"></span>
                        <span class="edge"></span>
                        <span class="front"> 
                            {% trans 'Reset My Password' %} 
                            <svg class="send-icon" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path fill="currentColor" d="M21.243 12.437a.5.5 0 0 0 0-.874l-2.282-1.268A75.5 75.5 0 0 0 4.813 4.231l-.665-.208A.5.5 0 0 0 3.5 4.5v5.75a.5.5 0 0 0 .474.5l1.01.053a44.4 44.4 0 0 1 7.314.998l.238.053c.053.011.076.033.089.05a.16.16 0 0 1 .029.096c0 .04-.013.074-.029.096c-.013.017-.036.039-.089.05l-.238.053a44.5 44.5 0 0 1-7.315.999l-1.01.053a.5.5 0 0 0-.473.499v5.75a.5.5 0 0 0 .65.477l.664-.208a75.5 75.5 0 0 0 14.147-6.064z"/></svg>
                        </span>
                    </button>
                {% endslot %}
            {% endelement %}
            {% element p %}
                {% blocktrans %}Please contact us if you have any trouble resetting your password.{% endblocktrans %}
            {% endelement %}
        {% endblock content %}
    </div>
</div>



<!-- todo the animation of removing popup message -->
<script src="{% static "account/js/remove-popup-message.js" %}"></script>